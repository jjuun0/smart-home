# smart-home

# 2021.04.24
- opencv 를 이용한 face detection 을 통해, 내 s3 버켓에 이미지 파일을 업로드함.  

- 로컬 파일에 우선 이미지 파일을 업로드하고, 그 이미지 파일을 s3에 업로드

# 2021.04.25
- 내 얼굴 이미지와, 손흥민 이미지에서 얼굴 부분만 잘라내어 one-shot learning 할 이미지를 만듦.  
- 위의 이미지로 image augmentation 을 통해 이미지를 좌우 반전, 기울이기, 노이즈 추가해 데이터셋을 증강시킴(데이터 셋마다 50장).  

- Siamese Network 를 통해 학습시키고, 평가했다.  
  - Train : 매번 학습시키는데 오래걸려서, 모델의 파라미터를 저장.
  - Test : 아이유 이미지를 추가했다. (테스트 데이터 셋 : 각 데이터 셋마다 20장)
  - 코드 관리 :Network, Loss, Dataset, Train, Test 모듈로 나누어 코드를 분리하여 디버깅 하기 쉽게 저장함.
  - train_result : 테스트한 결과 이미지 + 모델이 학습하는데 loss 값 그래프 이미지 있음. 
  - 추후에 분리수거(일반 플라스틱 vs 투명 플라스틱) 에도 사용해보자.

# 2021.04.26
- Siamese Network
  - 이번엔 분리수거를 해보려고 종이, 비닐, 플라스틱, 캔 의 이미지를 학습시켜 평가해봤는데 성능이 좋지 않음.  
  - 비슷한거도 값이 높게 나와 수정이 필요함.  
  
- aws rekognition 데모를 이용해봤다. 성능이 좋아서 이를 얼굴 비교하는데 사용해보려고 했다.  
  - 얼굴 비교 : s3 이미지 파일(허가된 사람, 사전에 등록한 사람 사진)을 다운받고, 출입자를 캠으로 찍어 얼굴을 크롭한 사진과 비교한다.  
  - 추후에 해야할 일  
    - true : 현재 시간과 누구가 들어왔는지를 dynamo db 에 저장을 한다.  
    - false : 들어오지 못한 출입자(targetFile)의 이미지를 s3에 따로 저장할지. 고민해보자.  

# 2021.04.27  
- 개발서를 읽어보니, collection 을 통해 얼굴 비교가 가능하다.
- collection 에 S3 에 있는 이미지 파일들을(jun_1, son) 추가해주고, S3 의 입력 이미지(jun_2)를 비교해보니 99.9 퍼센트 동일인물이 있다고 나옴, face-id 도 출력됨.  
